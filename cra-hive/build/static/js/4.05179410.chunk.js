(this["webpackJsonpcra-hive"]=this["webpackJsonpcra-hive"]||[]).push([[4],{262:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return M}));var r=n(30);var c=n(16),a=n(94);function i(e,t){return{highlighted:[],handleBoardClick:function(){return console.log("Remote player's turn")},handleDropClick:function(){return console.log("Remote player's turn")}}}var o=n(161),s=n(242),u=n(260),j=n(37),l=n(89),b=n(46),d=n(0),O=n(4);function h(){var e=Object(d.useState)(!1),t=Object(c.a)(e,2),n=t[0],r=t[1],a=Object(d.useState)(!1),i=Object(c.a)(a,2),o=i[0],s=i[1],u=document.URL,b={title:"HiveMind",text:"You are challenged for a game of Hive!",url:u=u.match("team=white")?u.replace("team=white","team=black"):u.replace("team=black","team=white")};return navigator.share?Object(O.jsxs)(j.a,{size:"tiny",color:o?"grey":"black",onClick:function(){navigator.share(b).then((function(){return s(!0)})).catch((function(e){return alert("Error sharing: "+e)}))},children:[Object(O.jsx)(l.a,{name:"share alternate"}),o?"Shared":"Share the link"]}):Object(O.jsxs)(j.a,{size:"tiny",color:n?"grey":"black",onClick:function(){navigator.clipboard.writeText(u).then((function(){return r(!0)})).catch((function(e){return alert("Error in copying text: "+e)}))},children:[Object(O.jsx)(l.a,{name:"copy"}),n?"Copied to clipboard":"Click to copy link"]})}function f(e){var t=e.open;e.setOpen;return Object(O.jsxs)(o.a,{dimmer:"blurring",open:t,children:[Object(O.jsx)(o.a.Header,{children:" Invite a player "}),Object(O.jsx)(o.a.Content,{children:Object(O.jsx)(s.a,{inverted:!0,children:Object(O.jsx)(u.a,{inline:!0,indeterminate:!0,children:"Waiting for your opponent to join"})})}),Object(O.jsxs)(o.a.Actions,{children:[Object(O.jsxs)(j.a,{size:"tiny",negative:!0,as:b.b,to:"/",children:[Object(O.jsx)(l.a,{name:"cancel"}),"Cancel"]}),Object(O.jsx)(h,{})]})]})}var m=n(258),p=n(187);var x=n(183),v=n(197),g=n(118),k=n(261);function y(e){var t=e.surrender,n=Object(d.useState)(!1),r=Object(c.a)(n,2),a=r[0],i=r[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(j.a,{size:"mini",onClick:function(){return i(!0)},children:[Object(O.jsx)(l.a,{name:"flag outline"}),"Surrender"]}),Object(O.jsx)(k.a,{open:a,onCancel:function(){return i(!1)},onConfirm:function(){i(!1),t()}})]})}var C=n(181);function S(e){var t=e.team,n=e.state,r=e.surrender,c=n.team===t?"It's your turn":"It's your opponents turn",a=Object(C.b)(n.result);return Object(O.jsxs)(v.a,{children:[Object(O.jsx)(g.a,{color:Object(C.a)(t),children:"Your team"}),Object(O.jsx)(g.a,{color:Object(C.a)(n.team),children:c}),Object(O.jsxs)(g.a,{basic:!0,children:["State: ",a]}),Object(O.jsx)(h,{}),Object(O.jsx)(y,{surrender:r})]})}var w=n(32);function A(e){var t=e.socket,n=e.gid,r=e.p1,a=e.p2,i=e.team,o=function(){var e=Object(d.useState)(0),t=Object(c.a)(e,2)[1];return function(){return t((function(e){return e+1}))}}(),s=Object(x.a)(),u=s.apply,j=s.state;return Object(d.useEffect)((function(){t.emit("joinGame",{gid:n,team:i});var e=function(e){var t=Object(w.d)(e);u(t),o()};return t.on("updateAction",e),t.on("surrender",(function(e){var t=e.team;j.surrender(t),o()})),function(){t.off("updateAction",e)}}),[t]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(S,{team:i,state:j,surrender:function(){return t.emit("surrender")}}),Object(O.jsx)(z,{state:j,p1:r,p2:a,submitAction:function(e){return t.emit("intendAction",{action:e})}})]})}function z(e){var t=e.state,n=e.p1,r=e.p2,c=e.submitAction,a=(t.turnNumber%2===0?n:r)(c,t);return Object(O.jsx)(p.a,{controller:a,state:t})}function E(e){var t,n,r=e.gid,o=e.team,s=Object(d.useState)(null),u=Object(c.a)(s,2),j=u[0],l=u[1],b=Object(d.useState)(!0),h=Object(c.a)(b,2),p=h[0],x=h[1];return Object(d.useEffect)((function(){var e=Object(m.a)();return l(e),e.on("startGame",(function(){x(!1)})),function(){e.close()}}),[l]),"white"===o?(t=a.a,n=i):(t=i,n=a.a),Object(O.jsxs)("div",{children:[j?Object(O.jsx)("div",{children:Object(O.jsx)(A,{socket:j,gid:r,p1:t,p2:n,team:o})}):"Not Connected",Object(O.jsx)(f,{open:p,setOpen:x})]})}var I=n(184);function R(e,t){e(t.actions[Math.floor(Math.random()*t.actions.length)])}var G=n(124);function H(e){var t,n;return"white"===e.team?(t=a.a,n=R):(t=R,n=a.a),Object(O.jsx)(G.a,{p1:t,p2:n})}function M(){var e=Object(r.g)().gid,t=new URLSearchParams(Object(r.f)().search),n=t.get("team")||"white",c=t.get("mode")||"local";return"online"===c?Object(O.jsx)(E,{gid:e,team:n}):"local"===c?Object(O.jsx)(I.a,{}):"ai"===c?Object(O.jsx)(H,{team:n}):Object(O.jsx)("div",{children:"Invalid Game"})}}}]);
//# sourceMappingURL=4.05179410.chunk.js.map